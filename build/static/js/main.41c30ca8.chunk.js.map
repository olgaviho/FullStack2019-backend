{"version":3,"sources":["components/Name.js","components/Form.js","components/LookForm.js","services/persons.js","App.js","index.js"],"names":["Name","props","react_default","a","createElement","name","number","onClick","deletePerson","AddForm","onSubmit","addName","value","newName","onChange","handleNameChange","newNumber","handleNumberChange","type","LookForm","newLookFor","handleLookForChange","baseUrl","services_persons","axios","get","then","response","data","newObject","post","id","delete","concat","personObject","put","App","_useState","useState","_useState2","Object","slicedToArray","persons","setPersons","_useState3","_useState4","setNewName","_useState5","_useState6","setNewNumber","_useState7","_useState8","setNewLookFor","_useState9","text","_useState10","messageToUser","setMessageToUser","useEffect","personService","initialPersons","window","confirm","filter","person","components_LookForm","event","target","message","className","style","Form","preventDefault","nameObject","length","toConsumableArray","sort","b","date","Date","toISOString","ok","forEach","setTimeout","find","p","changedPerson","objectSpread","returnedPerson","map","tyyppi","catch","error","toLowerCase","includes","components_Name","key","ReactDOM","render","src_App","document","getElementById"],"mappings":"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","file":"static/js/main.41c30ca8.chunk.js","sourcesContent":["import React from 'react'\n\nconst Name = (props) => {\n\n\n  return (\n    <li>{props.name.name} {props.name.number}\n      <button onClick={() => props.deletePerson(props.name)}>\n        poista\n      </button>\n    </li>\n  )\n}\n\nexport default Name","import React from 'react'\n\nconst AddForm = (props) => {\n  return (\n    <form onSubmit={props.addName}>\n      <div>\n        nimi: <input value={props.newName} onChange={props.handleNameChange} />\n      </div>\n      <div>\n        puhelinnumero: <input value={props.newNumber} onChange={props.handleNumberChange} />\n      </div>\n      <div>\n        <button type=\"submit\">lisää</button>\n      </div>\n    </form>\n  )\n}\n\nexport default AddForm","import React from 'react'\n\nconst LookForm = (props) => {\n  return (\n    <div>\n      <form >\n        <input\n          value={props.newLookFor}\n          onChange={props.handleLookForChange}\n        />\n      </form >\n    </div>\n  )\n}\n\n\nexport default LookForm","import axios from 'axios'\nconst baseUrl = 'https://person-backend.herokuapp.com/api/persons'\n\nconst getAll = () => {\n    const request = axios.get(baseUrl)\nreturn request.then(response => response.data)\n}\n\nconst create = newObject => {\n    const request = axios.post(baseUrl, newObject)\n    return request.then(response => response.data)\n};\n\nconst deletePerson = (id) => {\n    const request = axios.delete(`https://person-backend.herokuapp.com/api/persons${id}`)\n    return request.then(response => response.data)\n}\n\nconst update = (personObject) => { \n    const request = axios.put(`${baseUrl}/${personObject.id}`, personObject)\n    return request.then(response => response.data)\n}\n\nexport default { getAll, create, deletePerson, update }","import React, { useState, useEffect } from 'react'\nimport Name from './components/Name'\nimport AddForm from './components/Form'\nimport LookForm from './components/LookForm'\nimport personService from './services/persons'\n\nconst App = () => {\n  const [persons, setPersons] = useState([])\n  const [newName, setNewName] = useState('')\n  const [newNumber, setNewNumber] = useState('')\n  const [newLookFor, setNewLookFor] = useState('')\n  const [messageToUser, setMessageToUser] = useState({text: null})\n\n  useEffect(() => {\n    personService\n      .getAll()\n      .then(initialPersons => {\n        setPersons(initialPersons)\n      })\n  }, [])\n\n  const Notification = (props) => {\n    if (props.message.text === null) {\n      return null\n    } else {\n      return (\n        <div className={props.message.style}> \n          {props.message.text}\n        </div>\n      )\n    }\n  }\n\n  const personsToShow = () => {\n    return persons.filter(person => {\n      if (newLookFor.length) {\n        return person.name.toLowerCase().includes(newLookFor.toLowerCase())\n      }\n      return true\n    })\n  }\n\n  const rows = () => personsToShow().map(name =>\n    <Name\n      key={name.id}\n      name={name}\n      number={name.number}\n      deletePerson={deletePerson}\n    />\n  )\n\n  const deletePerson = (props) => {\n    if (window.confirm(`Olet poistamassa ${props.name}`)) {\n    personService\n      .deletePerson(props.id).then(()=>{\n        setPersons(persons.filter((person => person.id !== props.id )))\n\n      })\n    }\n  }\n\n  const addName = (event) => {\n    event.preventDefault()\n    const nameObject = {\n     // id: persons.length + 1 + Math.floor(Math.random()*100000),\n      id: persons.length ? [...persons].sort((a, b) => b.id - a.id)[0].id + 1 : 1,\n      name: newName,\n      number: newNumber,\n      date: new Date().toISOString(),\n    }\n\n    let ok = true\n\n    persons.forEach(function (person) {\n      if (newName === person.name) {\n        ok = false\n      }\n    });\n\n    if (ok === true) {\n\n      setMessageToUser(\n        {text: `Henkilö ${newName} lisätty luetteloon`,\n        style: 'success'}\n      )\n      setTimeout(() => {\n        setMessageToUser({text: null})\n      }, 5000)\n\n      personService\n        .create(nameObject)\n        .then(response => {\n          setPersons(persons.concat(response))\n          setNewName('')\n          setNewNumber('')\n        })\n\n    } else {\n      const person = persons.find(p => p.name === newName)\n      const changedPerson = { ...person, number: newNumber }\n\n      personService\n        .update(changedPerson).then(returnedPerson => {\n          setPersons(persons.map(tyyppi => tyyppi.id !== person.id ? tyyppi : returnedPerson))\n        })\n        .catch(error => {\n\n          setMessageToUser(\n            {text: `Yhteystieto ${changedPerson.name} on jo valitettavasti poistettu`, \n          style: 'fail'}\n          )  \n          setTimeout(() => {\n            setMessageToUser({text:null})\n          }, 5000)\n\n          setPersons(persons.filter(p => p.id !== person.id))\n        })\n    }\n  }\n\n  const handleNameChange = (event) => {\n    setNewName(event.target.value)\n  }\n\n  const handleNumberChange = (event) => {\n    setNewNumber(event.target.value)\n  }\n\n  const handleLookForChange = (event) => {\n    setNewLookFor(event.target.value)\n  }\n\n  return (\n    <div>\n      <h2>Etsi nimellä</h2>\n      <LookForm\n        newLookFor={newLookFor}\n        handleLookForChange={handleLookForChange}\n      />\n      <h2>Puhelinluettelo</h2>\n      <Notification message={messageToUser} />\n      <AddForm\n        addName={addName}\n        newName={newName}\n        handleNameChange={handleNameChange}\n        newNumber={newNumber}\n        handleNumberChange={handleNumberChange}\n      />\n      <h2>Numerot</h2>\n      {rows()}\n    </div>\n  )\n}\n\nexport default App","import React from 'react'\nimport ReactDOM from 'react-dom'\nimport App from './App'\nimport './index.css'\n\n\n\nReactDOM.render(\n  <App />, document.getElementById('root')\n)\n"],"sourceRoot":""}